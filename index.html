<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <div id="container">
        <h3>Rock Paper Scissors: Game Results</h3>
        <ul id="gameResults" style="list-style-type: none;"></ul>
    </div>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <script>
        // Rock Paper Scissors game - a simple game of Rock Paper Scissors played in the console that accepts user input and plays against the computer.
        // Generate and save computer's choice (Rock, Paper or Scissors)
        // Ask for user's input and save 
        // Evaluate the winner 
            // Rock beats Scissors
            // Paper beats Rock
            // Scissors beats Paper 
        // Display the winner
        
        function getRandomInt(max) {
            return Math.floor(Math.random() * max)
        }
        function getComputerChoice() {
            let numChoice = getRandomInt(3);
            let compChoice;
            if (numChoice === 0) {
                compChoice = "rock";
            } else if (numChoice === 1) {
                compChoice = "paper";
            } else if(numChoice === 2){
                compChoice = "scissors";
            }
            return compChoice;
        }

        let playerWinCount = 0;
        let computerWinCount = 0;
        function playRound(playerSelection, computerSelection) {
            if (playerSelection == "rock") {
                if (computerSelection == "paper") {
                    computerWinCount++;
                    return "You Lose! Paper beats Rock"
                } else if (computerSelection == "scissors") {
                    playerWinCount++;
                    return "You Win! Rock beats Scissors"
                } else {
                    return "It's a tie!"
                }
            } 
            if (playerSelection == "paper") {
                if (computerSelection == "rock") {
                    playerWinCount++;
                    return "You Win! Paper beats Rock"
                } else if (computerSelection == "scissors") {
                    computerWinCount++;
                    return "You Lose! Scissors beats Paper"
                } else {
                    return "It's a tie!"
                }
            }
            if (playerSelection == "scissors") {
                if (computerSelection == "rock") {
                    computerWinCount++;
                    return "You Lose! Rock beats Scissors"
                } else if (computerSelection == "paper") {
                    playerWinCount++;
                    return "You Win! Scissors beats Paper"
                } else {
                    return "It's a tie!"
                }
            }
        }
/*
        function game() {
            for (i=0; i<=4; i++) {
                let playerSelection = window.prompt("Choose Rock, Paper or Scissors");
                let computerSelection = getComputerChoice();
                console.log(playRound(playerSelection, computerSelection));
            }
            if (playerWinCount > computerWinCount) {
                console.log("Congratulations! You beat the computer " + playerWinCount + " out of 5 games.");
            } else {
                console.log("Sorry. You lost to the computer " + computerWinCount + " out of 5 games.");
            }
            
        } */
      
        const rockButton = document.querySelector('#rock');
        const paperButton = document.querySelector('#paper');
        const scissorsButton = document.querySelector('#scissors');
        const gameResult = document.querySelector('#gameResults');
        const displayWinner = document.createElement('li');

        rockButton.addEventListener("click", () => {
            const gameResultEntry = document.createElement('li');
            let result = playRound("rock", getComputerChoice());
            gameResultEntry.textContent = result;
            gameResult.appendChild(gameResultEntry);
            if (playerWinCount === 5) {
                displayWinner.textContent = "You reached 5 points first, you win!";
                gameResult.innerHTML = "";
                gameResult.appendChild(displayWinner);
                playerWinCount = 0;
                computerWinCount = 0;
            } else if (computerWinCount === 5) {
                displayWinner.textContent = "The computer reached 5 points first, you lose!";
                gameResult.innerHTML = "";
                gameResult.appendChild(displayWinner);
                playerWinCount = 0;
                computerWinCount = 0;
            }
        })
        paperButton.addEventListener("click", () => {
            const gameResultEntry = document.createElement('li');
            let result = playRound("paper", getComputerChoice());
            gameResultEntry.textContent = result;
            gameResult.appendChild(gameResultEntry);
            if (playerWinCount === 5) {
                displayWinner.textContent = "You reached 5 points first, you win!";
                gameResult.innerHTML = "";
                gameResult.appendChild(displayWinner);
                playerWinCount = 0;
                computerWinCount = 0;
            } else if (computerWinCount === 5) {
                displayWinner.textContent = "The computer reached 5 points first, you lose!";
                gameResult.innerHTML = "";
                gameResult.appendChild(displayWinner);
                playerWinCount = 0;
                computerWinCount = 0;
            }
        })
        scissorsButton.addEventListener("click", () => {
            const gameResultEntry = document.createElement('li');
            let result = playRound("scissors", getComputerChoice());
            gameResultEntry.textContent = result;
            gameResult.appendChild(gameResultEntry);
            if (playerWinCount === 5) {
                displayWinner.textContent = "You reached 5 points first, you win!";
                gameResult.innerHTML = "";
                gameResult.appendChild(displayWinner);
                playerWinCount = 0;
                computerWinCount = 0;
            } else if (computerWinCount === 5) {
                displayWinner.textContent = "The computer reached 5 points first, you lose!";
                gameResult.innerHTML = "";
                gameResult.appendChild(displayWinner);
                playerWinCount = 0;
                computerWinCount = 0;
            }
        })
    </script>
</body>
</html>